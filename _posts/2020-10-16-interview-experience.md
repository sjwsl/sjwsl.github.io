---
title: Interview Experience
categories:
  - Essay
tag:
  - Interview
---

面试记录

## 实习

### 图森未来（2020.3 offer 接了）

我投的第一家公司，在 EC-Final 现场认识的 HR，岗位是自动驾驶系统工程师。

**一面**

主要是 coding，题目记不清了，好像不算难也不算太简单，都做出来了。

**二面**

先是 coding，题目忘了，应该也不算难，没什么障碍。

面试官是做高精地图的（后来我去实习也是做这些），因为我当时项目和实习经历都没有，就问了些工程相关的问题。比如在地图中怎么找距给定点最近的线，考虑直线和曲线的情况？好像也没有标准答案，就按自己理解回答了一下。

**三面**

这面是工程部的老大。没 coding，问了些基础知识，主要是操作系统和计网，感觉答得不怎么样。最后聊了实习时间和地点。

拿到的第一个实习 offer，待遇在当时觉得不可思议得好（后来实习体验也确实很不错）。感觉面试中基础知识和工程问题我回答得并不好，而且没有任何项目经历，可能 coding 都比较顺利所以拿到了 offer，暑假去了北京实习。

### 腾讯（2020.4 offer 接了）

投的腾讯 ACM 相关的计划，岗位是后台开发。

**一面**

coding，在线文档写四道题，但是可以用 IDE 写完复制过去。题目难度适中，半小时左右写完了。

然后微信电话聊了下四道题的思路，基本都是对的，有道题面试官提醒可以改进，我也立刻给出了方法。

**二面**

在微信电话上聊，面试官是广东人，有时候听不太懂。

问了些操作系统和计网基础知识，答得还是不怎么样。还问了 ACM 的经历。

**三面**

面试官是微信架构部的老大（后来实习知道很牛）。

还是先 coding，三道题，让我写完一道就发给他。前两个挺简单，最后一个不是纯算法题，大概意思是设计算法让四个广告按给定比例出现，然后扩展到 n 个广告和任意比例的一般情况。

写完之后面试官说直接微信文字聊就行（可能他太忙了）。聊了一些分布式系统的问题，MapReduce、Spark 原理，还有一些优化。很多我压根没听过的就说不知道，面试官也很好，让我有空自己了解一下。

聊完告诉我他这边没问题了，等 HR 和我聊 offer 就行。

**HR 面**

开始问了些很日常的问题，可能为了确定下交流没障碍。然后问了打 ACM 的收获和感受。最后聊了实习时间和地点，允许我远程实习，于是很开心接了 offer。

可能因为是 ACM 专项，面试感觉一直在 coding，可能都做出来了就拿到了 offer（题的难度也确实不大）。待遇不如图森，但也没有太低。因为有 ACM 要求，岗位是 WXG 基础架构开发，还是很核心的部门。

### 字节跳动（2020.4 offer 拒了）

字节是随便投的，投了一大堆岗，面的后台开发。

**一面**

coding，题目忘了，顺利做完。然后因为我没项目经历，就问了很多基础知识。操作系统计网答得还行，数据库一脸懵逼（就应该问之前直接说不会），面试官人看出我实在不会就说算了。

**二面**

开始问了道逻辑题，大概是[这个题](http://blog.sina.com.cn/s/blog_660d21920100zie9.html)，很顺利分析出来了。之后问的啥忘记了，好像这面时间很短。

**三面**

全忘了。

接到 offer call 的时候已经接了腾讯的 offer，而且字节也不允许远程实习，就果断拒掉了。后来又打了几个电话让我仔细考虑，说是抖音的核心岗位，和好几个 HR 加了微信（现在微信好友最多的就是字节 HR）。

### 字节跳动（2020.10 offer 拒了）

这次不是自己投的字节。纪念日出去吃饭的时候给我打了好多电话，说这个岗位和我的简历很符合。和 HR 加了微信，虽然之前给过 offer 但还是得面试。我说我可以面试但是不保证能去，很快就安排了面试，岗位是 data 基础架构开发。

**一面**

详细问了半个多小时实习经历，真的是一条一条对着问。因为岗位和之前在腾讯差不多，他们对我做的东西也很了解。因为简历上写的都是自己做过的东西，回答的还可以，就是有些东西因为时间太久记不太清了。

最后问了一道算法题，也是秒出，说完思路就没让写代码。

**二面**

先聊实习经历，问得比较简略。

然后都在聊分布式系统的问题。按照给定比例实现负载均衡，和腾讯那个题很类似，哈希解决。后来扩展了很多问题，包括动态负载均衡的调整等等，我答得并不太好，很长时间都没理解面试官的意思。之后问到系统中一个 meta 节点能怎么实现，我说可以用 Chubby 或者 Zookeeper，他说用 Redis 就可以。最后磕磕绊绊答完了。

最后让我手写一个 shared_ptr，因为之前问得我有点晕，这里代码写的也不好，很多小 bug。思路是没问题的，改了很多小地方，最后面试官才满意。

**HR 面**

面试官是华师大的学姐。聊了聊实习感受，然后问我为什么上次没去字节。然后聊了下实习时间和地点。我明说了我还有 PingCAP 那边的面试，需要等那边出了结果再做决定。她说了说字节的好处，劝我加入。

可能上次面试记录算法题答得不错，这次都没怎么 coding，问得也很简单。面试的部门和我在腾讯的部门很类似，所以他们对实习经历都很感兴趣。感觉和上次面字节相比难了不少，主要因为简历上东西多了。二面感觉是我至今答得最差的一次面试，好在最后也过了。字节的岗位我挺喜欢的，有转正的机会，待遇也很好，只是工作强度有点大。~~如果第二次拒字节会不会要进黑名单了。。~~（已拒）

拒了之后 HR 又打了好几个电话，后来二面的面试官又加我微信聊了好久，最后答应如果大三下学期有时间再去实习。（其实极有可能鸽第三次）

### PingCAP（2020.10 offer 接了）

因为自己在做 PingCAP 的 Talent Plan，是在学习群里加微信投的简历，岗位是 Chaos Mesh 开发（我也不知道是什么）。这时候因为我已经有了两段实习经历，简历很快就通过了，然后有 HR 联系我。

**零面**

PingCAP 在面试前先要做一个小 project（经典免费劳动力），做完反馈 repo 链接，给了国庆一周的时间。

project 是要实现一个 tool，支持一键启动 tidb 集群，以及分布式系统的错误注入，包括单点重启和网络分区。看了看发现一键启动集群的功能已经有现成的 tiup 可以满足，就在 tiup 的基础上加了错误注入的功能。主要就是看源码，先读懂 Golang 命令行工具用法，以及如何添加 RPC 接口。重启基本按照源码中相关部分写一写就行，网络分区没找到什么好办法，用的 iptables 模拟。

**一面**

project 完成后大概三个工作日约的一二面，一个上午面完。

先问了实习经历，实习中解决的问题。

然后问了 Raft 的原理，这部分我比较熟悉，答的没啥问题。

还问了一些多线程的问题。

最后有道 coding，实现 LRU，也是老掉牙的问题了。我问能不能用 C++ 写（不会用 Golang 写算法题），面试官同意了。双向链表 + 哈希表解决（好像之前面试碰到过一摸一样的问题）。写完讲了一下，面试官觉得没问题，就结束了。

**二面**

还是先问了实习经历。

详细问了 Raft 的原理，还给了 case 让分析之后的过程。这部分只要对 Raft 真正理解都没啥问题。还问了我如何实现的 Raft 以及如何在 Raft 基础上构建分布式 KV 存储。

然后问了 project 的相关内容，聊了我实现的思路，面试官和我说了下可以改进的地方。

之后问了测试 Raft 集群的思路，可以设计测试哪些性质。可能因为面试官做的比较相关。

还问了一些比较杂的问题。分布式一致性，shared_ptr 的原理，工作中使用 docker 的场景，docker 的原理，docker 和虚拟机的区别，k8s 的概念和原理，软链接硬链接的区别，线程协程的区别，ping baidu 的过程。基本都能答上来吧。

然后聊了我用 C++ 和 Golang 的多线程开发经验，还有 Linux 下性能调优的经验。这些主要是针对简历。

最后 coding，不重复数组中找峰值元素。这个瞬间和面试官说完 `log(n)` 的思路，面试官就说没必要写代码了。

**三面**

面试官在地铁上，说前两面很满意，这面就走个过场。我问了下工作内容和时间，以及远程实习相关的事项。面试官说明天 HR 会和我谈 offer，很快就结束了。

这次因为有了实习经历，和之前面试问的东西会有不小区别。因为 PingCAP 做的分布式存储，所以分布式系统的内容问的很多，Raft 问得特别细（可能因为我简历写了）。coding 很简单，都是秒出。PingCAP 的工作环境挺好的，正式员工好多都是在家办公，~~唯一缺点是钱有点少~~。最终还是选择了 PingCAP。

### Google (2021.1 等待中)

SWE Intern。面试题不让外泄。。只有 coding，大概是最低铜牌题最高银牌题的难度。面试的时候感觉面试官都有点冷漠，不过 HC 通过了，现在在等 Team Match。只能祈祷了。。

### Nvidia (2021.1 offer 接了)

投的 C++ Graphics 的实习岗位。前前后后面了七轮，记不清每一轮问的什么了，就分类写一下能想起来的所有问题

**算法**

背包问题和解法，最小生成树解法。

一道简单单调栈，秒了。

一道偏工程的题，大意是由磁盘读写 log 判断哪些空间被浪费了，follow up 问了各种限制条件下的不同解法，给了差分、线段树、平衡树的解，应该还挺满意的。

**C++**

指针，智能指针，左右值，对象生命周期，static 作用等等。都是基础知识。

实现一个线程安全的 vector，支持 push_back 和按下标取元素，不用支持删除。假设最大容量可以确定，预分配一个足够大的 vector，用一个 atomic int 作为下标指针，即可线程安全。

多线程大量 malloc 效率低，怎么办？实现一个自己的内存分配器，减少内存分配次数。大概讲了一下我的实现思路，追问如何应对多线程的问题，我说除了加锁可以参考 vector 预分配空间后线程安全的读写方法。

如果发生内存越界，如何 debug？printf，找重点程序段，用 valgrind 等工具。

**操作系统**

进程线程协程，协程原理。

循环遍历二维数组，列优先和行优先哪个好？行优先，原因是缓存。讲讲多级缓存技术。

C++ 中什么情况会段错误，什么是未定义行为，未定义行为什么时候会段错误？涉及到虚拟内存和物理内存，例如访问野指针，如果地址对应的虚拟内存已经被分配了物理内存，就不会栈溢出，但后果未知。如果虚拟内存还没有分配物理内存，就会段错误。

两个核并行做 a++ 100 次最后的结果可能是多少？[2,200]，上界很显然，推出下界的情况就行。四个核呢？[2,400]

谈谈如何写出操作系统友好的程序。充分利用缓存（例如上面的遍历二维数组），减少内存分配等等。

如何利用多级流水线优化程序。我说我不知道多级流水线，面试官和我讲了一下。在启发下讲了一下我的理解和实际应用，最后答得还行。

**英语**

英文介绍下自己，主要介绍技术方面，然后英文简单交流一下。之前不知道有英语环节，吓一跳，不过内容挺简单的。

**项目**

实习经历。聊到了在腾讯做的浮点向量点乘优化，SIMD、AVX 指令集相关。在此基础上问我知不知道 CUDA，我说听说过但不了解。面试官简单给我介绍了下，之后问我为什么 GPU 用来做大规模计算。结合图形学的知识，主要是因为 GPU 的核心多，可以做简单的并行运算。

工作之外的个人项目，讲了下自己平时维护的 C++ 基础库，具体介绍了下自己包的 slice，面试官听完说不错，但 C++17 已经有了。。（而且 N 厂的生产环境竟然也有 C++17 了）

**闲聊**

因为面试的轮数太多了，每轮最后都有闲聊环节。主要聊了以后的打算，实习时间安排，工作内容介绍等等。到后面我都实在找不到问题问了。。

大三下的日常实习我只投了 N 厂，主要是学期末太忙，还要准备 Google 的面试。面试的体验除了太长都挺好的，没太有八股文，C++ 和操作系统的问题都比较深，有些问题我答得也不好。面试官都很关注我的能力、兴趣和他们的工作是否 match，最后一面大 boss 又详细介绍了他们的各种工作，反复确认我是否真的感兴趣。于是其他厂也懒得投了，又拒掉了之前答应的字节，接了 N 厂的 offer。工作主要会是 C++，我觉得 N 厂的 C++ 水平应该很高，希望能学到东西。
